<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Board Game: Adjective & Prepositions, What's your Position?</title>
<link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet">
<style>
:root{ --tile:84; --gapY:140; }
body{font-family: Tahoma, Geneva, Verdana, sans-serif; background:#f0f4f8; margin:0}
h1{margin:18px 0 6px; text-align:center; font-size:clamp(20px,3.2vw,32px); font-weight:900; letter-spacing:.3px;
background: linear-gradient(90deg,#a855f7,#ec4899,#f97316); -webkit-background-clip:text; -webkit-text-fill-color:transparent;
text-shadow:2px 2px 4px rgba(0,0,0,.18); display:none }
.wrap{display:flex;flex-direction:column;align-items:center;gap:12px}
.setup{background:#fff; padding:16px; border-radius:14px; box-shadow:0 8px 30px rgba(0,0,0,.08); width:min(860px,92vw)}
.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.player-input{display:flex;flex-direction:column;gap:6px; padding:10px 12px; border:1px solid #e5e7eb; border-radius:12px; transition:box-shadow .15s}
.color-options{display:flex;gap:8px; flex-wrap:wrap}
.swatch{width:32px;height:32px;border-radius:50%;border:2px solid #fff;box-shadow:0 0 0 2px rgba(0,0,0,.2);cursor:pointer}
.emoji{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:10px;background:#fff;border:1px solid #e5e7eb;box-shadow:0 1px 0 rgba(0,0,0,.04);cursor:pointer;font-size:26px}
.selected{outline:3px solid #111}
button{padding:10px 14px;border:0;border-radius:10px;background:#2563eb;color:#fff;font-family:'Luckiest Guy',cursive;font-size:16px;cursor:pointer}
button.secondary{background:#6b7280}
#controls{display:none;gap:8px;align-items:center}
#status{font-weight:700}
canvas{$1width:min(98vw, 1400px); height:auto$2}
#questionModal{display:none; position:fixed; inset:0; background:rgba(0,0,0,.5); align-items:center; justify-content:center; padding:20px}
#questionBox{background:#fff; padding:18px 16px; border-radius:14px; max-width:min(560px,92vw); box-shadow:0 10px 30px rgba(0,0,0,.25); font-family:'Luckiest Guy',cursive}
#questionBox h2{margin:0 0 8px}
#sheetWrapper, #titleWrapper { font-size:12px; color:#555; margin-top:6px; display:flex; gap:6px; align-items:center }
#sheetUrl, #customTitle { font-size:12px; padding:4px 6px; border-radius:6px; border:1px solid #ccc; min-width:200px }
</style>
</head>
<body>
<div class="wrap">
<h1>Board Game: Adjective & Prepositions, What's your Position?</h1>

<div class="setup" id="setup">
<div class="row">
<label for="numPlayers"><strong>Number of Players:</strong></label>
<select id="numPlayers">
<option value="2">2</option>
<option value="3">3</option>
<option value="4">4</option>
<option value="5">5</option>
<option value="6">6</option>
</select>
<button id="buildBtn" class="secondary">Build Player Forms</button>
</div>
<div id="playerForms" style="margin-top:10px; display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:10px"></div>
<div id="sheetWrapper">
<label for="sheetUrl">Google Sheet (CSV):</label>
<input id="sheetUrl" type="text" />
</div>
<div id="titleWrapper">
<label for="customTitle">Custom Game Title (optional):</label>
<input id="customTitle" type="text" placeholder="Leave blank to keep default" />
</div>
<div class="row" style="justify-content:flex-end; margin-top:8px">
<button id="startBtn">Start Game</button>
</div>
</div>

<div id="controls" class="row">
<button id="rollBtn">Roll Dice</button>
<button id="nextBtn" class="secondary">Next Turn</button>
<button id="resetBtn" class="secondary">Reset</button>
<label style="display:flex;align-items:center;gap:6px; margin-left:8px">
<input type="checkbox" id="manualToggle" /> Manual move mode
</label>
<span id="status"></span>
</div>

<canvas id="board" width="1400" height="700" aria-label="Game board"></canvas>
</div>

<div id="questionModal">
<div id="questionBox">
<h2 id="tileLabel">Tile</h2>
<div id="questionText"></div>
<div style="text-align:right;margin-top:12px"><button id="closeModal">Close</button></div>
</div>
</html>